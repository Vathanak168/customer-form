<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Registration Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
        }
        input::placeholder, textarea::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        /* á’áŸ’áœá¾á²áŸ’á™ Option á“áŸ…á€áŸ’á“á»á„ <select> á„á¶á™áŸáŸ’ášá½á›á˜á¾á›á›á¾á•áŸ’á‘áŸƒáá¶á„á€áŸ’ášáŸ„á™á–ááŸŒá•áŸ’á€á¶áˆá¼á€ */
        select option {
            background: #ff1493;
            color: white;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-5">
    <div class="bg-pink-600 bg-opacity-90 p-10 rounded-3xl shadow-2xl max-w-lg w-full">
        <h1 class="text-white text-center text-3xl font-bold mb-8 drop-shadow-lg">ğŸ“ Customer Registration Form</h1>
        
        <form id="registrationForm" class="space-y-5">
            <div>
                <label for="fullName" class="block text-white mb-2 font-medium">Full Name <span class="text-pink-200">*</span></label>
                <input type="text" id="fullName" name="fullName" placeholder="Enter your full name" required
                    class="w-full px-4 py-3 rounded-xl border-2 border-white bg-white bg-opacity-10 text-white placeholder-white placeholder-opacity-70 focus:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-white transition">
            </div>

            <div>
                <label for="email" class="block text-white mb-2 font-medium">Email <span class="text-pink-200">*</span></label>
                <input type="email" id="email" name="email" placeholder="example@email.com" required
                    class="w-full px-4 py-3 rounded-xl border-2 border-white bg-white bg-opacity-10 text-white placeholder-white placeholder-opacity-70 focus:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-white transition">
            </div>

            <div>
                <label for="phone" class="block text-white mb-2 font-medium">Phone Number <span class="text-pink-200">*</span></label>
                <input type="tel" id="phone" name="phone" placeholder="012 345 678" required
                    class="w-full px-4 py-3 rounded-xl border-2 border-white bg-white bg-opacity-10 text-white placeholder-white placeholder-opacity-70 focus:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-white transition">
            </div>

            <div>
                <label for="gender" class="block text-white mb-2 font-medium">Gender <span class="text-pink-200">*</span></label>
                <select id="gender" name="gender" required
                    class="w-full px-4 py-3 rounded-xl border-2 border-white bg-white bg-opacity-10 text-white focus:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-white transition cursor-pointer">
                    <option value="">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div>
                <label for="address" class="block text-white mb-2 font-medium">Address</label>
                <textarea id="address" name="address" placeholder="Enter your full address" rows="3"
                    class="w-full px-4 py-3 rounded-xl border-2 border-white bg-white bg-opacity-10 text-white placeholder-white placeholder-opacity-70 focus:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-white transition resize-vertical"></textarea>
            </div>

            <div>
                <label for="service" class="block text-white mb-2 font-medium">Service Interest</label>
                <select id="service" name="service"
                    class="w-full px-4 py-3 rounded-xl border-2 border-white bg-white bg-opacity-10 text-white focus:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-white transition cursor-pointer">
                    <option value="">Select Service</option>
                    <option value="Product A">Product A</option>
                    <option value="Product B">Product B</option>
                    <option value="Service C">Service C</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <button type="submit" 
                class="w-full py-4 bg-white text-pink-600 rounded-xl text-lg font-bold hover:bg-pink-50 hover:shadow-xl transform hover:-translate-y-1 active:translate-y-0 transition-all duration-300 mt-3">
                Register Now
            </button>
        </form>

        <div id="successModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-5">
            <div class="bg-white rounded-3xl p-8 max-w-md w-full text-center shadow-2xl transform transition-all">
                <div class="text-6xl mb-4">âœ…</div>
                <h2 class="text-2xl font-bold text-pink-600 mb-3">Registration Successful!</h2>
                <p class="text-gray-700 mb-6">Thank you for registering. Join our Telegram group to stay connected!</p>
                <a href="https://t.me/Chh_Vathanak96" target="_blank" 
                    class="inline-block bg-gradient-to-r from-blue-500 to-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:from-blue-600 hover:to-blue-700 transform hover:scale-105 transition-all duration-300 mb-3">
                    <svg class="inline-block w-6 h-6 mr-2 -mt-1" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121L8.736 13.73l-2.95-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.827z"/>
                    </svg>
                    Join Telegram Group
                </a>
                <button onclick="closeModal()" 
                    class="block w-full bg-gray-200 text-gray-700 px-8 py-3 rounded-xl font-bold hover:bg-gray-300 transition-all duration-300">
                    Close
                </button>
            </div>
        </div>

        <div id="errorMessage" class="hidden mt-5 bg-red-500 bg-opacity-30 text-white p-4 rounded-xl text-center border-2 border-white">
            âŒ Something went wrong. Please try again.
        </div>
    </div>

    <script>
        // URL á“áŸáŸ‡á‚áºááŸ’ášá¹á˜ááŸ’ášá¼áœ
        const GOOGLE_FORM_ACTION_URL = 'https://docs.google.com/forms/d/e/1FAIpQLSdvjsfDvj08qcar4PwKCLB7wwfwTDTX1xtfPG9n8SMpZLvjTQ/formResponse';
        const TELEGRAM_GROUP_LINK = 'https://t.me/Chh_Vathanak96';
        
        // Entry ID á‘á¶áŸ†á„á“áŸáŸ‡ á‚áºááŸ’ášá¹á˜ááŸ’ášá¼áœ á™áŸ„á„áá¶á˜á‘á·á“áŸ’á“á“áŸá™áŠáŸ‚á›á¢áŸ’á“á€á”á¶á“á•áŸ’áŠá›áŸ‹á²áŸ’á™
        const FIELD_MAPPING = {
            fullName: 'entry.1165231919',
            email: 'entry.934404167',
            phone: 'entry.595306380',
            gender: 'entry.1869406203',
            address: 'entry.219169353',
            service: 'entry.1843136197'
        };

        function closeModal() {
            document.getElementById('successModal').classList.add('hidden');
        }

        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData();
            
            // á™á€áá˜áŸ’á›áŸƒá‘á¶áŸ†á„á¢áŸáŸ‹á–á¸ Form
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const gender = document.getElementById('gender').value;
            const address = document.getElementById('address').value;
            const service = document.getElementById('service').value;
            
            // á”á‰áŸ’á…á¼á›áá˜áŸ’á›áŸƒá‘áŸ…á€áŸ’á“á»á„ FormData áŠáŸ„á™á”áŸ’ášá¾ FIELD_MAPPING
            formData.append(FIELD_MAPPING.fullName, fullName);
            formData.append(FIELD_MAPPING.email, email);
            formData.append(FIELD_MAPPING.phone, phone);
            formData.append(FIELD_MAPPING.gender, gender);
            formData.append(FIELD_MAPPING.address, address);
            formData.append(FIELD_MAPPING.service, service);
            
            // á”á‰áŸ’á‡á¼á“á‘á·á“áŸ’á“á“áŸá™
            fetch(GOOGLE_FORM_ACTION_URL, {
                method: 'POST',
                mode: 'no-cors', // áŸáŸ†áá¶á“áŸ‹áŸá˜áŸ’ášá¶á”áŸ‹ Google Forms
                body: formData
            })
            .then(() => {
                // á‡áŸ„á‚á‡áŸá™
                document.getElementById('successModal').classList.remove('hidden');
                document.getElementById('errorMessage').classList.add('hidden');
                document.getElementById('registrationForm').reset();
            })
            .catch((error) => {
                // *** á“áŸáŸ‡á‚áºá‡á¶á€á¶ášá€áŸ‚áá˜áŸ’ášá¼áœ ***
                // á”á„áŸ’á á¶á‰ Error Message á–áŸá›á˜á¶á“á”á‰áŸ’á á¶ (á§. áŠá¶á…áŸ‹ Internet)
                console.error('Error submitting form:', error); // áŸá˜áŸ’ášá¶á”áŸ‹ Debug
                document.getElementById('successModal').classList.add('hidden');
                document.getElementById('errorMessage').classList.remove('hidden'); 
            });
        });

        // á¢á“á»á‰áŸ’á‰á¶áá²áŸ’á™á…á»á…á€áŸ’ášáŸ… Modal áŠá¾á˜áŸ’á”á¸á”á·á‘
        document.getElementById('successModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>